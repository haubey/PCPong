var dns = require ('dns')

var hosts = [ "nytimes.com", "google.com" ];
var ips = [], errs = [];
var which;
var rv = new tame.Rendezvous ();
for (var i in hosts) {
    var j = i;
    dns.resolve (hosts[i], rv.id(i).pledge (errs[j], ips[j]));
}
await { rv.wait (pledge (which)); }
console.log (hosts[which] + " -> " + ips[which]);
