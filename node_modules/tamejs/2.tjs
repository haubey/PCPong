var dns = require ('dns')

var hosts = [ "nytimes.com", "google.com" ];
var ips = [], errs = [];
var which;
var rv = new tame.Rendezvous ();
for (var i in hosts) {
    dns.resolve (hosts[i], rv.id(i).defer (errs[i], ips[i]));
}
await { rv.wait (defer (which)); }
console.log (hosts[which] + " -> " + ips[which]);
