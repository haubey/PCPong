var tame = require('tamejs').runtime;
var __tame_fn_0 = function (__tame_k) {
    tame . catchExceptions ( ) ;
    function foo (cb) {
        tame.setActiveCb (cb);
        var __tame_this = this;
        var __tame_fn_1 = function (__tame_k) {
            tame.setActiveCb (cb);
            var __tame_fn_2 = function (__tame_k) {
                tame.setActiveCb (cb);
                var __tame_defers = new tame.Deferrals (__tame_k);
                var __tame_fn_3 = function (__tame_k) {
                    tame.setActiveCb (cb);
                    setTimeout (
                    __tame_defers.defer ( { 
                        func_name : "foo",
                        parent_cb : cb,
                        line : 5,
                        file : "8.tjs"
                    } )
                    , 10 ) ;
                    tame.callChain([__tame_k]);
                    tame.setActiveCb (null);
                };
                __tame_fn_3(tame.end);
                __tame_defers._fulfill();
                tame.setActiveCb (null);
            };
            var __tame_fn_4 = function (__tame_k) {
                tame.setActiveCb (cb);
                throw new Error ( "oh no!" )
                cb ( 10 ) ;
                tame.callChain([__tame_k]);
                tame.setActiveCb (null);
            };
            tame.callChain([__tame_fn_2, __tame_fn_4, __tame_k]);
            tame.setActiveCb (null);
        };
        tame.callChain([__tame_fn_1, __tame_k]);
    }
    function bar (c) {
        var __tame_this = this;
        var __tame_fn_5 = function (__tame_k) {
            var __tame_fn_6 = function (__tame_k) {
                var __tame_defers = new tame.Deferrals (__tame_k);
                var __tame_fn_7 = function (__tame_k) {
                    foo (
                    __tame_defers.defer ( { 
                        func_name : "bar",
                        line : 11,
                        file : "8.tjs"
                    } )
                    ) ;
                    tame.callChain([__tame_k]);
                };
                __tame_fn_7(tame.end);
                __tame_defers._fulfill();
            };
            var __tame_fn_8 = function (__tame_k) {
                c ( ) ;
                tame.callChain([__tame_k]);
            };
            tame.callChain([__tame_fn_6, __tame_fn_8, __tame_k]);
        };
        tame.callChain([__tame_fn_5, __tame_k]);
    }
    function baz () {
        var __tame_this = this;
        var __tame_fn_9 = function (__tame_k) {
            var __tame_defers = new tame.Deferrals (__tame_k);
            var __tame_fn_10 = function (__tame_k) {
                bar (
                __tame_defers.defer ( { 
                    func_name : "baz",
                    line : 16,
                    file : "8.tjs"
                } )
                ) ;
                tame.callChain([__tame_k]);
            };
            __tame_fn_10(tame.end);
            __tame_defers._fulfill();
        };
        tame.callChain([__tame_fn_9, __tame_k]);
    }
    ;
    
    baz ( ) ;
    tame.callChain([__tame_k]);
};
__tame_fn_0 (tame.end);