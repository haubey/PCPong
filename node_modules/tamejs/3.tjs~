var dns = require ('dns')

var hosts = [ "nytimes.com", "google.com" ];
var ips = [], errs = [];
var which;
var rv = new tame.Rendezvous ();
twait {
for (var i in hosts) {
    function (i) {
	dns.resolve (hosts[i], rv.id(i).pledge (errs[i], ips[i]));
    }(i);
}
await { rv.wait (pledge (which)); }
console.log (hosts[which] + " -> " + ips[which]);
