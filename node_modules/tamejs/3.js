var tame = require('tamejs').runtime;
var __tame_fn_4 = function (__tame_k) {
    var dns = require ( 'dns' )
    
    var hosts = [ "nytimes.com" , "google.com" ] ;
    var ips = [ ] , errs = [ ] ;
    var __tame_fn_0 = function (__tame_k) {
        var __tame_fn_1 = function (__tame_k) {
            var __tame_defers = new tame.Defers (__tame_k);
            var __tame_fn_2 = function (__tame_k) {
                 for (var i in hosts) {
                    dns . resolve ( hosts [ i ] ,
                    __tame_defers.defer (function (args) {
                        errs [ this . i ] = args[0];
                        ips [ this . i ] = args[1];
                    })
                    ) ;
                }
                tame.callChain([__tame_k]);
            };
            __tame_fn_2(tame.end);
            __tame_defers._fulfill();
        };
        var __tame_fn_3 = function (__tame_k) {
             for (var i in hosts) {
                console . log ( hosts [ i ] + " -> " + ips [ i ] ) ;
            }
            tame.callChain([__tame_k]);
        };
        tame.callChain([__tame_fn_1, __tame_fn_3, __tame_k]);
    };
    tame.callChain([__tame_fn_0, __tame_k]);
};
__tame_fn_4 (tame.end);
